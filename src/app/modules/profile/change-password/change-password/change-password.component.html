  <app-page-header 
      title="Change Password" 
      subtitle="Update your account password"
      [showBackButton]="true">
    </app-page-header>
    
    <div class="change-password">
      <div class="password-card">
        <form #passwordForm="ngForm" (ngSubmit)="changePassword()">
          <!-- Current Password -->
          <div class="form-group">
            <label for="currentPassword">Current Password</label>
            <input
              type="password"
              id="currentPassword"
              name="currentPassword"
              [(ngModel)]="passwordData.currentPassword"
              required
              placeholder="Enter current password"
              class="form-control"
            />
            <div *ngIf="passwordForm.submitted && !passwordData.currentPassword" class="error-message">
              Current password is required
            </div>
          </div>
          
          <!-- New Password -->
          <div class="form-group">
            <label for="newPassword">New Password</label>
            <input
              type="password"
              id="newPassword"
              name="newPassword"
              [(ngModel)]="passwordData.newPassword"
              required
              minlength="6"
              placeholder="Enter new password"
              class="form-control"
            />
            <div *ngIf="passwordForm.submitted && passwordForm.controls['newPassword']?.errors" class="error-message">
              Password must be at least 6 characters
            </div>
          </div>
          
          <!-- Confirm Password -->
          <div class="form-group">
            <label for="confirmPassword">Confirm New Password</label>
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              [(ngModel)]="confirmPassword"
              required
              placeholder="Confirm new password"
              class="form-control"
            />
            <div *ngIf="passwordForm.submitted && passwordData.newPassword !== confirmPassword" class="error-message">
              Passwords do not match
            </div>
          </div>
          
          <!-- Password Requirements -->
          <div class="password-requirements">
            <h4>Password Requirements:</h4>
            <ul>
              <li [class.met]="">
                At least 6 characters long
              </li>
              <li [class.met]="hasUppercase(passwordData.newPassword)">
                Contains uppercase letter
              </li>
              <li [class.met]="hasLowercase(passwordData.newPassword)">
                Contains lowercase letter
              </li>
              <li [class.met]="hasNumber(passwordData.newPassword)">
                Contains number
              </li>
            </ul>
          </div>
          
          <!-- Action Buttons -->
          <div class="form-actions">
            <button type="button" (click)="cancel()" class="btn btn-secondary">
              Cancel
            </button>
            <button 
              type="submit" 
              [disabled]="isLoading || !canSubmit()"
              class="btn btn-primary">
              <span *ngIf="!isLoading">Change Password</span>
              <span *ngIf="isLoading">Changing...</span>
            </button>
          </div>
        </form>
      </div>
    </div>